# ============================================
# Production Environment Configuration
# ============================================
# Copy this file to .env.production and configure for AWS deployment

# ============================================
# Node Environment
# ============================================
NODE_ENV=production
PORT=5000
LOG_LEVEL=WARN  # ERROR|WARN|INFO|DEBUG

# ============================================
# Database Configuration (AWS RDS)
# ============================================
DB_USER=postgres
DB_PASSWORD=<use-aws-secrets-manager-or-secure-password>
DB_HOST=your-rds-instance.xxxxxxxxxx.us-east-1.rds.amazonaws.com
DB_PORT=5432
DB_NAME=ecommerce

# Read Replica (optional but recommended for production)
DB_READ_REPLICA_HOST=your-rds-replica.xxxxxxxxxx.us-east-1.rds.amazonaws.com
DB_READ_REPLICA_PORT=5432

# Connection Pool Settings
DB_POOL_MAX=50            # Max connections to primary
DB_POOL_MIN=10            # Min connections to maintain
DB_READ_POOL_MAX=75       # More connections for read replica
DB_STATEMENT_TIMEOUT=30000  # Query timeout (ms)
DB_QUERY_TIMEOUT=30000      # Query timeout (ms)

# ============================================
# Redis Configuration (AWS ElastiCache)
# ============================================
# Leave empty to run without Redis (not recommended for production)
REDIS_URL=redis://your-elasticache.xxxxxx.0001.use1.cache.amazonaws.com:6379

# ============================================
# Security & CORS
# ============================================
CORS_ORIGIN=https://yourdomain.com,https://admin.yourdomain.com
SWAGGER_HOST=api.yourdomain.com

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000   # Time window in ms (15 minutes)
RATE_LIMIT_MAX_REQUESTS=100   # Max requests per window per IP

# ============================================
# Monitoring & Error Tracking
# ============================================
# Get from sentry.io after creating project
SENTRY_DSN=https://xxxxx@o000000.ingest.sentry.io/0000000

# ============================================
# Startup Behavior
# ============================================
SEED_ON_STARTUP=false  # IMPORTANT: Set to false in production!

# ============================================
# Application-Specific Settings
# ============================================
# Add any custom application settings here
